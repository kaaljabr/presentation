<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="741.6px" preserveAspectRatio="none" style="width:942px;height:741px;background:#FFFFFF;" version="1.1" viewBox="0 0 942 741" width="942px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="15.893" id="_title" style="stroke:none;stroke-width:0.6;" width="129" x="404.1" y="13.6664"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacing" textLength="123" x="407.1" y="24.7875">Match &amp; Link execution flow</text><rect fill="#FFE4C4" height="700.1027" style="stroke:#000000;stroke-width:0.3;" width="93" x="63" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="55.2" x="81.9" y="41.3004">Microservices</text><rect fill="#90EE90" height="700.1027" style="stroke:#000000;stroke-width:0.3;" width="169.2" x="181.2" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="246" y="41.3004">NoSQL DB</text><rect fill="#FFC0CB" height="700.1027" style="stroke:#000000;stroke-width:0.3;" width="84.6" x="375.6" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="41.4" x="395.1" y="41.3004">Debezium</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="43.2" x="397.5" y="50.4867">ZooKeeper</text><rect fill="#FFFACD" height="700.1027" style="stroke:#000000;stroke-width:0.3;" width="87.6" x="485.4" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="72.6" x="492.9" y="41.3004">In-Memory Cache</text><rect fill="#ADD8E6" height="700.1027" style="stroke:#000000;stroke-width:0.3;" width="101.4" x="598.2" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="80.4" x="608.7" y="41.3004">Processors/Workers</text><rect fill="#E6E6FA" height="700.1027" style="stroke:#000000;stroke-width:0.3;" width="86.4" x="724.8" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="751.2" y="41.3004">External</text><rect fill="#D3D3D3" height="700.1027" style="stroke:#000000;stroke-width:0.3;" width="88.8" x="836.4" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="40.2" x="860.7" y="41.3004">Data Lake</text><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="111.2906"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="352.2445"/><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="592.7988"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="138.0633"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="619.5715"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="305.4" y="482.8945"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="526.2" y="420.3762"/><rect fill="#FFFFFF" height="401.1902" style="stroke:#000000;stroke-width:0.6;" width="6" x="645.9" y="271.9266"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="765" y="298.6992"/><rect fill="none" height="153.2227" style="stroke:#000000;stroke-width:0.8999999999999999;" width="440.4" x="262.8" y="388.0172"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="10.8" x2="10.8" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="109.2" x2="109.2" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="223.2" x2="223.2" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="308.4" x2="308.4" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="417.6" x2="417.6" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="529.2" x2="529.2" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="648.6" x2="648.6" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="768" x2="768" y1="83.318" y2="737.4621"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="880.8" x2="880.8" y1="83.318" y2="737.4621"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="8.4" x="5.1" y="81.5461">UI</text><ellipse cx="11.1" cy="42.525" fill="#FFFFFF" rx="4.8" ry="4.8" style="stroke:#000000;stroke-width:0.3;"/><path d="M11.1,47.325 L11.1,63.525 M3.3,52.125 L18.9,52.125 M11.1,63.525 L3.3,72.525 M11.1,63.525 L18.9,72.525 " fill="none" style="stroke:#000000;stroke-width:0.3;"/><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="52.2" x="83.4" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="90.9" y="66.8531">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.8" x="87.6" y="76.7461">ms-guests</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.2" x="201.6" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="34.8" x="205.8" y="66.8531">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="34.2" x="206.1" y="76.7461">Write DB</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.2" x="286.8" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="34.8" x="291" y="66.8531">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="33.6" x="291.6" y="76.7461">Read DB</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.8" x="396" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4" x="400.2" y="66.8531">«Broker»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="22.8" x="406.5" y="76.7461">Kafka</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="46.8" x="505.8" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="30.6" x="513.9" y="66.8531">«Redis»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="38.4" x="510" y="76.7461">DB Cache</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="60.6" x="618.6" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="48.6" x="624.6" y="66.8531">«Processor»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="52.2" x="622.8" y="76.7461">Match &amp; Link</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="45.6" x="745.2" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="749.4" y="66.8531">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="36.6" x="749.7" y="76.7461">Experian</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="48" x="856.8" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="27" x="867.3" y="66.8531">«Lake»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="39.6" x="861" y="76.7461">Data Lake</text><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="111.2906"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="352.2445"/><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="592.7988"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="138.0633"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="619.5715"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="305.4" y="482.8945"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="526.2" y="420.3762"/><rect fill="#FFFFFF" height="401.1902" style="stroke:#000000;stroke-width:0.6;" width="6" x="645.9" y="271.9266"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="765" y="298.6992"/><polygon fill="#000000" points="99.3,108.8906,105.3,111.2906,99.3,113.6906" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="11.1" x2="102.9" y1="111.2906" y2="111.2906"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="84" x="15.3" y="99.259">HTTP Create/Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="15.3" y="108.4453">Profile/Account</text><polygon fill="#000000" points="213,135.6633,219,138.0633,213,140.4633" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="216.6" y1="138.0633" y2="138.0633"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="42.6" x="116.7" y="126.0316">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="116.7" y="135.218">guest profile</text><polygon fill="#000000" points="119.1,162.4359,113.1,164.8359,119.1,167.2359" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="115.5" x2="222.6" y1="164.8359" y2="164.8359"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="122.7" y="152.8043">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="122.7" y="161.9906">success</text><polygon fill="#000000" points="17.7,189.2086,11.7,191.6086,17.7,194.0086" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="14.1" x2="108.9" y1="191.6086" y2="191.6086"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="21.3" y="179.577">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="21.3" y="188.7633">success</text><polygon fill="#000000" points="410.7,215.9813,416.7,218.3813,410.7,220.7813" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.2" x2="414.3" y1="218.3813" y2="218.3813"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="156" x="227.4" y="206.3496">Produces Event (Debezium Connector)</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="227.4" y="215.5359">guests DB topic</text><polygon fill="#000000" points="873.6,242.7539,879.6,245.1539,873.6,247.5539" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="417.9" x2="877.2" y1="245.1539" y2="245.1539"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="422.1" y="233.1223">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="422.1" y="242.3086">guests DB topic</text><polygon fill="#000000" points="638.7,269.5266,644.7,271.9266,638.7,274.3266" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="417.9" x2="642.3" y1="271.9266" y2="271.9266"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="422.1" y="259.8949">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="42.6" x="422.1" y="269.0813">guest topic</text><polygon fill="#000000" points="757.8,296.2992,763.8,298.6992,757.8,301.0992" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="651.9" x2="761.4" y1="298.6992" y2="298.6992"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="72.6" x="656.1" y="286.6676">HTTP Standardize</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="61.2" x="656.1" y="295.8539">Primary Address</text><polygon fill="#000000" points="658.5,323.0719,652.5,325.4719,658.5,327.8719" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="654.9" x2="767.4" y1="325.4719" y2="325.4719"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="662.1" y="313.4402">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="662.1" y="322.6266">STD Address</text><polygon fill="#000000" points="119.1,349.8445,113.1,352.2445,119.1,354.6445" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="115.5" x2="645.3" y1="352.2445" y2="352.2445"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="122.7" y="340.2129">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="132.6" x="122.7" y="349.3992">Marketing profile with STD address</text><polygon fill="#000000" points="638.7,376.6172,644.7,379.0172,638.7,381.4172" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="109.5" x2="642.3" y1="379.0172" y2="379.0172"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="113.7" y="366.9855">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="113.7" y="376.1719">success</text><path d="M262.8,388.0172 L382.2,388.0172 L382.2,392.4035 L376.2,398.4035 L262.8,398.4035 L262.8,388.0172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="153.2227" style="stroke:#000000;stroke-width:0.8999999999999999;" width="440.4" x="262.8" y="388.0172"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="90" x="271.8" y="396.1582">Find Matching Profiles</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="2.4" x="361.8" y="396.1582"> </text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="56.4" x="391.2" y="395.598">[Found in Cache]</text><polygon fill="#000000" points="538.8,417.9762,532.8,420.3762,538.8,422.7762" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="535.2" x2="645.3" y1="420.3762" y2="420.3762"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="37.8" x="542.4" y="408.3445">HTTP Get</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="54.6" x="542.4" y="417.5309">hash(query) as</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="599.4" y="417.5309">key</text><polygon fill="#000000" points="638.7,444.7488,644.7,447.1488,638.7,449.5488" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="529.2" x2="642.3" y1="447.1488" y2="447.1488"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="533.4" y="435.1172">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="533.4" y="444.3035">success</text><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="262.8" x2="703.2" y1="452.5488" y2="452.5488"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="70.2" x="265.8" y="458.9297">[Not Found in Cache]</text><polygon fill="#000000" points="318,480.4945,312,482.8945,318,485.2945" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="314.4" x2="645.3" y1="482.8945" y2="482.8945"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="41.4" x="321.6" y="470.8629">HTTP Find</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="79.8" x="321.6" y="480.0492">find matching profile</text><polygon fill="#000000" points="638.7,507.2672,644.7,509.6672,638.7,512.0672" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="308.4" x2="642.3" y1="509.6672" y2="509.6672"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="49.2" x="312.6" y="497.6355">HTTP Found</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="87" x="312.6" y="506.8219">found matching profile</text><polygon fill="#000000" points="535.8,534.0398,529.8,536.4398,535.8,538.8398" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="532.2" x2="645.3" y1="536.4398" y2="536.4398"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="539.4" y="524.4082">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="54.6" x="539.4" y="533.5945">hash(query) as</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="596.4" y="533.5945">key</text><line style="stroke:#000000;stroke-width:0.6;" x1="651.9" x2="677.1" y1="558.2262" y2="558.2262"/><line style="stroke:#000000;stroke-width:0.6;" x1="677.1" x2="677.1" y1="558.2262" y2="566.0262"/><line style="stroke:#000000;stroke-width:0.6;" x1="652.5" x2="677.1" y1="566.0262" y2="566.0262"/><polygon fill="#000000" points="658.5,563.6262,652.5,566.0262,658.5,568.4262" style="stroke:#000000;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="88.2" x="656.1" y="555.3809">Applies Matching Rules</text><polygon fill="#000000" points="119.1,590.3988,113.1,592.7988,119.1,595.1988" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="115.5" x2="645.3" y1="592.7988" y2="592.7988"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="122.7" y="580.7672">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="45.6" x="122.7" y="589.9535">link profiles</text><polygon fill="#000000" points="213,617.1715,219,619.5715,213,621.9715" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="216.6" y1="619.5715" y2="619.5715"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="42.6" x="116.7" y="607.5398">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="116.7" y="616.7262">guest profile</text><polygon fill="#000000" points="119.1,643.9441,113.1,646.3441,119.1,648.7441" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="115.5" x2="222.6" y1="646.3441" y2="646.3441"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="122.7" y="634.3125">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="122.7" y="643.4988">success</text><polygon fill="#000000" points="641.7,670.7168,647.7,673.1168,641.7,675.5168" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="109.5" x2="645.3" y1="673.1168" y2="673.1168"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="113.7" y="661.0852">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="113.7" y="670.2715">success</text><polygon fill="#000000" points="410.7,697.4895,416.7,699.8895,410.7,702.2895" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.2" x2="414.3" y1="699.8895" y2="699.8895"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="156" x="227.4" y="687.8578">Produces Event (Debezium Connector)</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="72.6" x="227.4" y="697.0441">marketing DB topic</text><polygon fill="#000000" points="873.6,724.2621,879.6,726.6621,873.6,729.0621" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="417.9" x2="877.2" y1="726.6621" y2="726.6621"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="422.1" y="714.6305">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="72.6" x="422.1" y="723.8168">marketing DB topic</text><rect fill="#FFFFFF" height="7.0664" id="_title" style="stroke:none;stroke-width:0.6;" width="37.8" x="899.4" y="3"/><text fill="#888888" font-family="sans-serif" font-size="6" lengthAdjust="spacing" textLength="37.8" x="899.4" y="8.8008">Match &amp; Link</text><!--MD5=[5de10e3004c7042096679f67f4c50c69]
@startuml
!include ../include.puml

header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "Debezium\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "In-Memory Cache" #LemonChiffon
    participant "DB Cache" as cache <<Redis>>
end box


box "Processors/Workers" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> broker : **Produces Event (Debezium Connector)**\nguests DB topic
broker -> data_lake :**Consumes Event**\nguests DB topic
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests

group **Find Matching Profiles** [Found in Cache]
    match_link -> cache :**HTTP Get**\nhash(query) as **key**
    activate cache
    cache - -> match_link :**HTTP Response**\nsuccess
    deactivate cache
    else Not Found in Cache
    match_link -> read_db :**HTTP Find**\nfind matching profile
    activate read_db
    read_db - -> match_link : **HTTP Found**\nfound matching profile
    deactivate read_db
    match_link -> cache : **HTTP Update**\nhash(query) as **key**

end

match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
write_db -> broker :**Produces Event (Debezium Connector)**\nmarketing DB topic
broker -> data_lake :**Consumes Event**\nmarketing DB topic

@enduml

@startuml



skinparam style strictuml

scale max 2048 width

skinparam BoxPadding 20
skinparam ParticipantPadding 30

skinparam actor {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam object {
  BorderColor Black
  BackgroundColor<<External>> LightGrey
  BackgroundColor White

  BackgroundColor<<Abstract>> LightBlue
  BackgroundColor<<Enum>> LightRed
}

skinparam folder {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam interface {
  BackgroundColor<<Ingore>> White
  BorderColor<<Ignore>> White
  FontColor<<Ignore>> White
  StereotypeFontColor<<Ignore>> White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam ArrowColor<<Ignore>> White

skinparam ArrowColor Black
skinparam BackgroundColor White
skinparam CloudBackgroundColor white
skinparam DatabaseBackgroundColor White
skinparam NodeBackgroundColor white

skinparam class {
  BackgroundColor LightGrey
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam Object {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<OtherDomain>> LightGrey
}

skinparam note {
  BackgroundColor #FFEFD7
  BorderColor Black
}

skinparam boundary {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam participant {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam card {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam queue {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam state {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam storage {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam collections {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam entity {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam SequenceBoxBorderColor Black

skinparam EntityBackgroundColor White
skinparam EntityBorderColor Black

skinparam activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  DiamondBackgroundColor white
  DiamondBorderColor black
  EndColor black
  StartColor black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam sequence {
    MessageAlignment left

    LifeLineBorderColor Black
    LifeLineBackgroundColor White
}

skinparam usecase {
	BackgroundColor White
	BorderColor Black

	BackgroundColor<< Main >> YellowGreen
	BorderColor<< Main >> YellowGreen

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam interface {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam component {
  BackgroundColor White
  BorderColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  FontColor<<App>> $App
  FontColor<<Park>> $Park
  FontColor<<UPR>> $UPR
  FontColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam rectangle {
  BackgroundColor White
	roundCorner 25
}


header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "Debezium\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "In-Memory Cache" #LemonChiffon
    participant "DB Cache" as cache <<Redis>>
end box


box "Processors/Workers" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> broker : **Produces Event (Debezium Connector)**\nguests DB topic
broker -> data_lake :**Consumes Event**\nguests DB topic
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests

group **Find Matching Profiles** [Found in Cache]
    match_link -> cache :**HTTP Get**\nhash(query) as **key**
    activate cache
    cache - -> match_link :**HTTP Response**\nsuccess
    deactivate cache
    else Not Found in Cache
    match_link -> read_db :**HTTP Find**\nfind matching profile
    activate read_db
    read_db - -> match_link : **HTTP Found**\nfound matching profile
    deactivate read_db
    match_link -> cache : **HTTP Update**\nhash(query) as **key**

end

match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
write_db -> broker :**Produces Event (Debezium Connector)**\nmarketing DB topic
broker -> data_lake :**Consumes Event**\nmarketing DB topic

@enduml

PlantUML version 1.2022.7(Mon Aug 22 13:01:30 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>