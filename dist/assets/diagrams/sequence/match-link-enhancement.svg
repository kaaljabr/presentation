<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1294px" preserveAspectRatio="none" style="width:1570px;height:1294px;background:#FFFFFF;" version="1.1" viewBox="0 0 1570 1294" width="1570px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="26.4883" id="_title" style="stroke:none;stroke-width:1.0;" width="215" x="673.5" y="22.7773"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="205" x="678.5" y="41.3125">Match &amp; Link execution flow</text><rect fill="#FFE4C4" height="1225.459" style="stroke:#000000;stroke-width:0.5;" width="155" x="105" y="56.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="136.5" y="68.834">Microservices</text><rect fill="#90EE90" height="1225.459" style="stroke:#000000;stroke-width:0.5;" width="282" x="302" y="56.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="410" y="68.834">NoSQL DB</text><rect fill="#FFFACD" height="1225.459" style="stroke:#000000;stroke-width:0.5;" width="146" x="626" y="56.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121" x="638.5" y="68.834">In-Memory Cache</text><rect fill="#FFC0CB" height="1225.459" style="stroke:#000000;stroke-width:0.5;" width="141" x="814" y="56.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="69" x="846.5" y="68.834">Debezium</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="850.5" y="84.1445">ZooKeeper</text><rect fill="#ADD8E6" height="1225.459" style="stroke:#000000;stroke-width:0.5;" width="169" x="997" y="56.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134" x="1014.5" y="68.834">Processors/Workers</text><rect fill="#E6E6FA" height="1225.459" style="stroke:#000000;stroke-width:0.5;" width="144" x="1208" y="56.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="56" x="1252" y="68.834">External</text><rect fill="#D3D3D3" height="1225.459" style="stroke:#000000;stroke-width:0.5;" width="148" x="1394" y="56.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="67" x="1434.5" y="68.834">Data Lake</text><rect fill="#FFFFFF" height="163.1738" style="stroke:#000000;stroke-width:1.0;" width="10" x="177.5" y="185.4844"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="177.5" y="616.3848"/><rect fill="#FFFFFF" height="163.1738" style="stroke:#000000;stroke-width:1.0;" width="10" x="177.5" y="1017.3086"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="367" y="230.1055"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="367" y="1061.9297"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="509" y="834.1348"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="694" y="729.9375"/><rect fill="#FFFFFF" height="697.9609" style="stroke:#000000;stroke-width:1.0;" width="10" x="1076.5" y="482.5215"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="1275" y="527.1426"/><rect fill="none" height="255.3711" style="stroke:#000000;stroke-width:1.5;" width="734" x="438" y="676.0059"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="18" x2="18" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="182" x2="182" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="372" x2="372" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="514" x2="514" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="699" x2="699" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="884" x2="884" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1081" x2="1081" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1280" x2="1280" y1="138.8633" y2="1287.7246"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1468" x2="1468" y1="138.8633" y2="1287.7246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="8.5" y="135.9102">UI</text><ellipse cx="18.5" cy="70.875" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M18.5,78.875 L18.5,105.875 M5.5,86.875 L31.5,86.875 M18.5,105.875 L5.5,120.875 M18.5,105.875 L31.5,120.875 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="87" x="139" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="151.5" y="111.4219">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="146" y="127.9102">ms-guests</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="72" x="336" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="58" x="343" y="111.4219">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="343.5" y="127.9102">Write DB</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="72" x="478" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="58" x="485" y="111.4219">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="486" y="127.9102">Read DB</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="78" x="660" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="51" x="673.5" y="111.4219">«Redis»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="667" y="127.9102">DB Cache</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="73" x="848" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="855" y="111.4219">«Broker»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="865.5" y="127.9102">Kafka</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="101" x="1031" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="1041" y="111.4219">«Processor»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1038" y="127.9102">Match &amp; Link</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="76" x="1242" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1249" y="111.4219">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="1249.5" y="127.9102">Experian</text><rect fill="#FFFFFF" height="46.9766" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="80" x="1428" y="90.8867"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="45" x="1445.5" y="111.4219">«Lake»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1435" y="127.9102">Data Lake</text><rect fill="#FFFFFF" height="163.1738" style="stroke:#000000;stroke-width:1.0;" width="10" x="177.5" y="185.4844"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="177.5" y="616.3848"/><rect fill="#FFFFFF" height="163.1738" style="stroke:#000000;stroke-width:1.0;" width="10" x="177.5" y="1017.3086"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="367" y="230.1055"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="367" y="1061.9297"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="509" y="834.1348"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="694" y="729.9375"/><rect fill="#FFFFFF" height="697.9609" style="stroke:#000000;stroke-width:1.0;" width="10" x="1076.5" y="482.5215"/><rect fill="#FFFFFF" height="44.6211" style="stroke:#000000;stroke-width:1.0;" width="10" x="1275" y="527.1426"/><polygon fill="#000000" points="165.5,181.4844,175.5,185.4844,165.5,189.4844" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="18.5" x2="171.5" y1="185.4844" y2="185.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="140" x="25.5" y="165.4316">HTTP Create/Update</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="25.5" y="180.7422">Profile/Account</text><polygon fill="#000000" points="355,226.1055,365,230.1055,355,234.1055" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="187.5" x2="361" y1="230.1055" y2="230.1055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="71" x="194.5" y="210.0527">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="194.5" y="225.3633">guest profile</text><polygon fill="#000000" points="198.5,270.7266,188.5,274.7266,198.5,278.7266" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="192.5" x2="371" y1="274.7266" y2="274.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="204.5" y="254.6738">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="204.5" y="269.9844">success</text><polygon fill="#000000" points="502,300.0371,512,304.0371,502,308.0371" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="372" x2="508" y1="304.0371" y2="304.0371"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="403" y="299.2949">Sync Data</text><polygon fill="#000000" points="29.5,344.6582,19.5,348.6582,29.5,352.6582" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="23.5" x2="181.5" y1="348.6582" y2="348.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="35.5" y="328.6055">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="35.5" y="343.916">success</text><polygon fill="#000000" points="872.5,389.2793,882.5,393.2793,872.5,397.2793" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="372" x2="878.5" y1="393.2793" y2="393.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="260" x="379" y="373.2266">Produces Event (Debezium Connector)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="379" y="388.5371">guests topic</text><polygon fill="#000000" points="1456,433.9004,1466,437.9004,1456,441.9004" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884.5" x2="1462" y1="437.9004" y2="437.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="891.5" y="417.8477">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="891.5" y="433.1582">guests topic</text><polygon fill="#000000" points="1064.5,478.5215,1074.5,482.5215,1064.5,486.5215" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884.5" x2="1070.5" y1="482.5215" y2="482.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="891.5" y="462.4688">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="891.5" y="477.7793">guest topic</text><polygon fill="#000000" points="1263,523.1426,1273,527.1426,1263,531.1426" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="1086.5" x2="1269" y1="527.1426" y2="527.1426"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="121" x="1093.5" y="507.0898">HTTP Standardize</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1093.5" y="522.4004">Primary Address</text><polygon fill="#000000" points="1097.5,567.7637,1087.5,571.7637,1097.5,575.7637" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1091.5" x2="1279" y1="571.7637" y2="571.7637"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1103.5" y="551.7109">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1103.5" y="567.0215">STD Address</text><polygon fill="#000000" points="198.5,612.3848,188.5,616.3848,198.5,620.3848" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="192.5" x2="1075.5" y1="616.3848" y2="616.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89" x="204.5" y="596.332">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="204.5" y="611.6426">Marketing profile with STD address</text><polygon fill="#000000" points="1064.5,657.0059,1074.5,661.0059,1064.5,665.0059" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182.5" x2="1070.5" y1="661.0059" y2="661.0059"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="189.5" y="640.9531">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="189.5" y="656.2637">success</text><path d="M438,676.0059 L637,676.0059 L637,683.3164 L627,693.3164 L438,693.3164 L438,676.0059 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="255.3711" style="stroke:#000000;stroke-width:1.5;" width="734" x="438" y="676.0059"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="150" x="453" y="689.5742">Find Matching Profiles</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="4" x="603" y="689.5742"> </text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94" x="652" y="688.6406">[Found in Cache]</text><polygon fill="#000000" points="715,725.9375,705,729.9375,715,733.9375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="709" x2="1075.5" y1="729.9375" y2="729.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63" x="721" y="709.8848">HTTP Get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="721" y="725.1953">hash(query) as</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="816" y="725.1953">key</text><polygon fill="#000000" points="1064.5,770.5586,1074.5,774.5586,1064.5,778.5586" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="699" x2="1070.5" y1="774.5586" y2="774.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="706" y="754.5059">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="706" y="769.8164">success</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="438" x2="1172" y1="783.5586" y2="783.5586"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="117" x="443" y="794.1934">[Not Found in Cache]</text><polygon fill="#000000" points="530,830.1348,520,834.1348,530,838.1348" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="524" x2="1075.5" y1="834.1348" y2="834.1348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="69" x="536" y="814.082">HTTP Find</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="536" y="829.3926">find matching profile</text><polygon fill="#000000" points="1064.5,874.7559,1074.5,878.7559,1064.5,882.7559" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="514" x2="1070.5" y1="878.7559" y2="878.7559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="82" x="521" y="858.7031">HTTP Found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="521" y="874.0137">found matching profile</text><polygon fill="#000000" points="710,919.377,700,923.377,710,927.377" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="704" x2="1075.5" y1="923.377" y2="923.377"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89" x="716" y="903.3242">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="716" y="918.6348">hash(query) as</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="811" y="918.6348">key</text><line style="stroke:#000000;stroke-width:1.0;" x1="1086.5" x2="1128.5" y1="959.6875" y2="959.6875"/><line style="stroke:#000000;stroke-width:1.0;" x1="1128.5" x2="1128.5" y1="959.6875" y2="972.6875"/><line style="stroke:#000000;stroke-width:1.0;" x1="1087.5" x2="1128.5" y1="972.6875" y2="972.6875"/><polygon fill="#000000" points="1097.5,968.6875,1087.5,972.6875,1097.5,976.6875" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1093.5" y="954.9453">Applies Matching Rules</text><polygon fill="#000000" points="198.5,1013.3086,188.5,1017.3086,198.5,1021.3086" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="192.5" x2="1075.5" y1="1017.3086" y2="1017.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="89" x="204.5" y="997.2559">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="204.5" y="1012.5664">link profiles</text><polygon fill="#000000" points="355,1057.9297,365,1061.9297,355,1065.9297" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="187.5" x2="361" y1="1061.9297" y2="1061.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="71" x="194.5" y="1041.877">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="194.5" y="1057.1875">guest profile</text><polygon fill="#000000" points="198.5,1102.5508,188.5,1106.5508,198.5,1110.5508" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="192.5" x2="371" y1="1106.5508" y2="1106.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="204.5" y="1086.498">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="204.5" y="1101.8086">success</text><polygon fill="#000000" points="502,1131.8613,512,1135.8613,502,1139.8613" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="372" x2="508" y1="1135.8613" y2="1135.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="403" y="1131.1191">Sync Data</text><polygon fill="#000000" points="1069.5,1176.4824,1079.5,1180.4824,1069.5,1184.4824" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182.5" x2="1075.5" y1="1180.4824" y2="1180.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="189.5" y="1160.4297">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="189.5" y="1175.7402">success</text><polygon fill="#000000" points="872.5,1221.1035,882.5,1225.1035,872.5,1229.1035" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="372" x2="878.5" y1="1225.1035" y2="1225.1035"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="260" x="379" y="1205.0508">Produces Event (Debezium Connector)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="379" y="1220.3613">Link topic</text><polygon fill="#000000" points="1456,1265.7246,1466,1269.7246,1456,1273.7246" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="884.5" x2="1462" y1="1269.7246" y2="1269.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="891.5" y="1249.6719">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="891.5" y="1264.9824">Link topic</text><rect fill="#FFFFFF" height="11.7773" id="_title" style="stroke:none;stroke-width:1.0;" width="63" x="1499" y="5"/><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="63" x="1499" y="14.668">Match &amp; Link</text><!--MD5=[de03e113d824a4288adfa4fb7b9c3a32]
@startuml
!include ../include.puml

header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "In-Memory Cache" #LemonChiffon
    participant "DB Cache" as cache <<Redis>>
end box

box "Debezium\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "Processors/Workers" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> broker : **Produces Event (Debezium Connector)**\nguests topic
broker -> data_lake :**Consumes Event**\nguests topic
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests

group **Find Matching Profiles** [Found in Cache]
    match_link -> cache :**HTTP Get**\nhash(query) as **key**
    activate cache
    cache - -> match_link :**HTTP Response**\nsuccess
    deactivate cache
    else Not Found in Cache
    match_link -> read_db :**HTTP Find**\nfind matching profile
    activate read_db
    read_db - -> match_link : **HTTP Found**\nfound matching profile
    deactivate read_db
    match_link -> cache : **HTTP Update**\nhash(query) as **key**

end

match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
write_db -> broker :**Produces Event (Debezium Connector)**\nLink topic
broker -> data_lake :**Consumes Event**\nLink topic

@enduml

@startuml



skinparam style strictuml

scale max 2048 width

skinparam BoxPadding 20
skinparam ParticipantPadding 30

skinparam actor {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam object {
  BorderColor Black
  BackgroundColor<<External>> LightGrey
  BackgroundColor White

  BackgroundColor<<Abstract>> LightBlue
  BackgroundColor<<Enum>> LightRed
}

skinparam folder {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam interface {
  BackgroundColor<<Ingore>> White
  BorderColor<<Ignore>> White
  FontColor<<Ignore>> White
  StereotypeFontColor<<Ignore>> White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam ArrowColor<<Ignore>> White

skinparam ArrowColor Black
skinparam BackgroundColor White
skinparam CloudBackgroundColor white
skinparam DatabaseBackgroundColor White
skinparam NodeBackgroundColor white

skinparam class {
  BackgroundColor LightGrey
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam Object {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<OtherDomain>> LightGrey
}

skinparam note {
  BackgroundColor #FFEFD7
  BorderColor Black
}

skinparam boundary {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam participant {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam card {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam queue {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam state {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam storage {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam collections {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam entity {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam SequenceBoxBorderColor Black

skinparam EntityBackgroundColor White
skinparam EntityBorderColor Black

skinparam activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  DiamondBackgroundColor white
  DiamondBorderColor black
  EndColor black
  StartColor black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam sequence {
    MessageAlignment left

    LifeLineBorderColor Black
    LifeLineBackgroundColor White
}

skinparam usecase {
	BackgroundColor White
	BorderColor Black

	BackgroundColor<< Main >> YellowGreen
	BorderColor<< Main >> YellowGreen

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam interface {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam component {
  BackgroundColor White
  BorderColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  FontColor<<App>> $App
  FontColor<<Park>> $Park
  FontColor<<UPR>> $UPR
  FontColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam rectangle {
  BackgroundColor White
	roundCorner 25
}


header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "In-Memory Cache" #LemonChiffon
    participant "DB Cache" as cache <<Redis>>
end box

box "Debezium\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "Processors/Workers" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> broker : **Produces Event (Debezium Connector)**\nguests topic
broker -> data_lake :**Consumes Event**\nguests topic
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests

group **Find Matching Profiles** [Found in Cache]
    match_link -> cache :**HTTP Get**\nhash(query) as **key**
    activate cache
    cache - -> match_link :**HTTP Response**\nsuccess
    deactivate cache
    else Not Found in Cache
    match_link -> read_db :**HTTP Find**\nfind matching profile
    activate read_db
    read_db - -> match_link : **HTTP Found**\nfound matching profile
    deactivate read_db
    match_link -> cache : **HTTP Update**\nhash(query) as **key**

end

match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
write_db -> broker :**Produces Event (Debezium Connector)**\nLink topic
broker -> data_lake :**Consumes Event**\nLink topic

@enduml

PlantUML version 1.2022.7(Mon Aug 22 13:01:30 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>