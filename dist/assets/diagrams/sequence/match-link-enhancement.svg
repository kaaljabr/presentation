<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="776.4px" preserveAspectRatio="none" style="width:942px;height:776px;background:#FFFFFF;" version="1.1" viewBox="0 0 942 776" width="942px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="15.893" id="_title" style="stroke:none;stroke-width:0.6;" width="129" x="404.1" y="13.6664"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacing" textLength="123" x="407.1" y="24.7875">Match &amp; Link execution flow</text><rect fill="#FFE4C4" height="735.2754" style="stroke:#000000;stroke-width:0.3;" width="93" x="63" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="55.2" x="81.9" y="41.3004">Microservices</text><rect fill="#90EE90" height="735.2754" style="stroke:#000000;stroke-width:0.3;" width="169.2" x="181.2" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="246" y="41.3004">NoSQL DB</text><rect fill="#FFFACD" height="735.2754" style="stroke:#000000;stroke-width:0.3;" width="87.6" x="375.6" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="72.6" x="383.1" y="41.3004">In-Memory Cache</text><rect fill="#FFC0CB" height="735.2754" style="stroke:#000000;stroke-width:0.3;" width="84.6" x="488.4" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="41.4" x="507.9" y="41.3004">Debezium</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="43.2" x="510.3" y="50.4867">ZooKeeper</text><rect fill="#ADD8E6" height="735.2754" style="stroke:#000000;stroke-width:0.3;" width="101.4" x="598.2" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="80.4" x="608.7" y="41.3004">Processors/Workers</text><rect fill="#E6E6FA" height="735.2754" style="stroke:#000000;stroke-width:0.3;" width="86.4" x="724.8" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="751.2" y="41.3004">External</text><rect fill="#D3D3D3" height="735.2754" style="stroke:#000000;stroke-width:0.3;" width="88.8" x="836.4" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="40.2" x="860.7" y="41.3004">Data Lake</text><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="111.2906"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="369.8309"/><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="610.3852"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="138.0633"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="637.1578"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="305.4" y="500.4809"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="416.4" y="437.9625"/><rect fill="#FFFFFF" height="401.1902" style="stroke:#000000;stroke-width:0.6;" width="6" x="645.9" y="289.5129"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="765" y="316.2855"/><rect fill="none" height="153.2227" style="stroke:#000000;stroke-width:0.8999999999999999;" width="440.4" x="262.8" y="405.6035"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="10.8" x2="10.8" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="109.2" x2="109.2" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="223.2" x2="223.2" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="308.4" x2="308.4" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="419.4" x2="419.4" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="530.4" x2="530.4" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="648.6" x2="648.6" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="768" x2="768" y1="83.318" y2="772.6348"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="880.8" x2="880.8" y1="83.318" y2="772.6348"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="8.4" x="5.1" y="81.5461">UI</text><ellipse cx="11.1" cy="42.525" fill="#FFFFFF" rx="4.8" ry="4.8" style="stroke:#000000;stroke-width:0.3;"/><path d="M11.1,47.325 L11.1,63.525 M3.3,52.125 L18.9,52.125 M11.1,63.525 L3.3,72.525 M11.1,63.525 L18.9,72.525 " fill="none" style="stroke:#000000;stroke-width:0.3;"/><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="52.2" x="83.4" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="90.9" y="66.8531">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.8" x="87.6" y="76.7461">ms-guests</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.2" x="201.6" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="34.8" x="205.8" y="66.8531">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="34.2" x="206.1" y="76.7461">Write DB</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.2" x="286.8" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="34.8" x="291" y="66.8531">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="33.6" x="291.6" y="76.7461">Read DB</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="46.8" x="396" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="30.6" x="404.1" y="66.8531">«Redis»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="38.4" x="400.2" y="76.7461">DB Cache</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.8" x="508.8" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4" x="513" y="66.8531">«Broker»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="22.8" x="519.3" y="76.7461">Kafka</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="60.6" x="618.6" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="48.6" x="624.6" y="66.8531">«Processor»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="52.2" x="622.8" y="76.7461">Match &amp; Link</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="45.6" x="745.2" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="749.4" y="66.8531">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="36.6" x="749.7" y="76.7461">Experian</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="48" x="856.8" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="27" x="867.3" y="66.8531">«Lake»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="39.6" x="861" y="76.7461">Data Lake</text><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="111.2906"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="369.8309"/><rect fill="#FFFFFF" height="80.318" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="610.3852"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="138.0633"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="220.2" y="637.1578"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="305.4" y="500.4809"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="416.4" y="437.9625"/><rect fill="#FFFFFF" height="401.1902" style="stroke:#000000;stroke-width:0.6;" width="6" x="645.9" y="289.5129"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="765" y="316.2855"/><polygon fill="#000000" points="99.3,108.8906,105.3,111.2906,99.3,113.6906" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="11.1" x2="102.9" y1="111.2906" y2="111.2906"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="84" x="15.3" y="99.259">HTTP Create/Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="15.3" y="108.4453">Profile/Account</text><polygon fill="#000000" points="213,135.6633,219,138.0633,213,140.4633" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="216.6" y1="138.0633" y2="138.0633"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="42.6" x="116.7" y="126.0316">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="116.7" y="135.218">guest profile</text><polygon fill="#000000" points="119.1,162.4359,113.1,164.8359,119.1,167.2359" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="115.5" x2="222.6" y1="164.8359" y2="164.8359"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="122.7" y="152.8043">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="122.7" y="161.9906">success</text><polygon fill="#000000" points="17.7,189.2086,11.7,191.6086,17.7,194.0086" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="14.1" x2="108.9" y1="191.6086" y2="191.6086"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="21.3" y="179.577">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="21.3" y="188.7633">success</text><polygon fill="#000000" points="301.2,206.7949,307.2,209.1949,301.2,211.5949" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.2" x2="304.8" y1="209.1949" y2="209.1949"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="241.8" y="206.3496">Sync Data</text><polygon fill="#000000" points="523.5,233.5676,529.5,235.9676,523.5,238.3676" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.2" x2="527.1" y1="235.9676" y2="235.9676"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="156" x="227.4" y="223.9359">Produces Event (Debezium Connector)</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="227.4" y="233.1223">guests DB topic</text><polygon fill="#000000" points="873.6,260.3402,879.6,262.7402,873.6,265.1402" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="530.7" x2="877.2" y1="262.7402" y2="262.7402"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="534.9" y="250.7086">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="534.9" y="259.8949">guests DB topic</text><polygon fill="#000000" points="638.7,287.1129,644.7,289.5129,638.7,291.9129" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="530.7" x2="642.3" y1="289.5129" y2="289.5129"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="534.9" y="277.4813">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="42.6" x="534.9" y="286.6676">guest topic</text><polygon fill="#000000" points="757.8,313.8855,763.8,316.2855,757.8,318.6855" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="651.9" x2="761.4" y1="316.2855" y2="316.2855"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="72.6" x="656.1" y="304.2539">HTTP Standardize</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="61.2" x="656.1" y="313.4402">Primary Address</text><polygon fill="#000000" points="658.5,340.6582,652.5,343.0582,658.5,345.4582" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="654.9" x2="767.4" y1="343.0582" y2="343.0582"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="662.1" y="331.0266">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="662.1" y="340.2129">STD Address</text><polygon fill="#000000" points="119.1,367.4309,113.1,369.8309,119.1,372.2309" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="115.5" x2="645.3" y1="369.8309" y2="369.8309"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="122.7" y="357.7992">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="132.6" x="122.7" y="366.9855">Marketing profile with STD address</text><polygon fill="#000000" points="638.7,394.2035,644.7,396.6035,638.7,399.0035" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="109.5" x2="642.3" y1="396.6035" y2="396.6035"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="113.7" y="384.5719">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="113.7" y="393.7582">success</text><path d="M262.8,405.6035 L382.2,405.6035 L382.2,409.9898 L376.2,415.9898 L262.8,415.9898 L262.8,405.6035 " fill="#EEEEEE" style="stroke:#000000;stroke-width:0.8999999999999999;"/><rect fill="none" height="153.2227" style="stroke:#000000;stroke-width:0.8999999999999999;" width="440.4" x="262.8" y="405.6035"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="90" x="271.8" y="413.7445">Find Matching Profiles</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="2.4" x="361.8" y="413.7445"> </text><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="56.4" x="391.2" y="413.1844">[Found in Cache]</text><polygon fill="#000000" points="429,435.5625,423,437.9625,429,440.3625" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="425.4" x2="645.3" y1="437.9625" y2="437.9625"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="37.8" x="432.6" y="425.9309">HTTP Get</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="54.6" x="432.6" y="435.1172">hash(query) as</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="489.6" y="435.1172">key</text><polygon fill="#000000" points="638.7,462.3352,644.7,464.7352,638.7,467.1352" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="419.4" x2="642.3" y1="464.7352" y2="464.7352"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="423.6" y="452.7035">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="423.6" y="461.8898">success</text><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="262.8" x2="703.2" y1="470.1352" y2="470.1352"/><text fill="#000000" font-family="sans-serif" font-size="6.6" font-weight="bold" lengthAdjust="spacing" textLength="70.2" x="265.8" y="476.516">[Not Found in Cache]</text><polygon fill="#000000" points="318,498.0809,312,500.4809,318,502.8809" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="314.4" x2="645.3" y1="500.4809" y2="500.4809"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="41.4" x="321.6" y="488.4492">HTTP Find</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="79.8" x="321.6" y="497.6355">find matching profile</text><polygon fill="#000000" points="638.7,524.8535,644.7,527.2535,638.7,529.6535" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="308.4" x2="642.3" y1="527.2535" y2="527.2535"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="49.2" x="312.6" y="515.2219">HTTP Found</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="87" x="312.6" y="524.4082">found matching profile</text><polygon fill="#000000" points="426,551.6262,420,554.0262,426,556.4262" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="422.4" x2="645.3" y1="554.0262" y2="554.0262"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="429.6" y="541.9945">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="54.6" x="429.6" y="551.1809">hash(query) as</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="14.4" x="486.6" y="551.1809">key</text><line style="stroke:#000000;stroke-width:0.6;" x1="651.9" x2="677.1" y1="575.8125" y2="575.8125"/><line style="stroke:#000000;stroke-width:0.6;" x1="677.1" x2="677.1" y1="575.8125" y2="583.6125"/><line style="stroke:#000000;stroke-width:0.6;" x1="652.5" x2="677.1" y1="583.6125" y2="583.6125"/><polygon fill="#000000" points="658.5,581.2125,652.5,583.6125,658.5,586.0125" style="stroke:#000000;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="88.2" x="656.1" y="572.9672">Applies Matching Rules</text><polygon fill="#000000" points="119.1,607.9852,113.1,610.3852,119.1,612.7852" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="115.5" x2="645.3" y1="610.3852" y2="610.3852"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="122.7" y="598.3535">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="45.6" x="122.7" y="607.5398">link profiles</text><polygon fill="#000000" points="213,634.7578,219,637.1578,213,639.5578" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="216.6" y1="637.1578" y2="637.1578"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="42.6" x="116.7" y="625.1262">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="116.7" y="634.3125">guest profile</text><polygon fill="#000000" points="119.1,661.5305,113.1,663.9305,119.1,666.3305" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="115.5" x2="222.6" y1="663.9305" y2="663.9305"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="122.7" y="651.8988">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="122.7" y="661.0852">success</text><polygon fill="#000000" points="641.7,688.3031,647.7,690.7031,641.7,693.1031" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="109.5" x2="645.3" y1="690.7031" y2="690.7031"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="113.7" y="678.6715">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="113.7" y="687.8578">success</text><polygon fill="#000000" points="301.2,705.8895,307.2,708.2895,301.2,710.6895" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.2" x2="304.8" y1="708.2895" y2="708.2895"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="241.8" y="705.4441">Sync Data</text><polygon fill="#000000" points="523.5,732.6621,529.5,735.0621,523.5,737.4621" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.2" x2="527.1" y1="735.0621" y2="735.0621"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="156" x="227.4" y="723.0305">Produces Event (Debezium Connector)</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="72.6" x="227.4" y="732.2168">marketing DB topic</text><polygon fill="#000000" points="873.6,759.4348,879.6,761.8348,873.6,764.2348" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="530.7" x2="877.2" y1="761.8348" y2="761.8348"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="534.9" y="749.8031">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="72.6" x="534.9" y="758.9895">marketing DB topic</text><rect fill="#FFFFFF" height="7.0664" id="_title" style="stroke:none;stroke-width:0.6;" width="37.8" x="899.4" y="3"/><text fill="#888888" font-family="sans-serif" font-size="6" lengthAdjust="spacing" textLength="37.8" x="899.4" y="8.8008">Match &amp; Link</text><!--MD5=[4da88c9fb3e225b2952e4430f7382890]
@startuml
!include ../include.puml

header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "In-Memory Cache" #LemonChiffon
    participant "DB Cache" as cache <<Redis>>
end box

box "Debezium\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "Processors/Workers" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> read_db : **      Sync Data**
write_db -> broker : **Produces Event (Debezium Connector)**\nguests DB topic
broker -> data_lake :**Consumes Event**\nguests DB topic
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests

group **Find Matching Profiles** [Found in Cache]
    match_link -> cache :**HTTP Get**\nhash(query) as **key**
    activate cache
    cache - -> match_link :**HTTP Response**\nsuccess
    deactivate cache
    else Not Found in Cache
    match_link -> read_db :**HTTP Find**\nfind matching profile
    activate read_db
    read_db - -> match_link : **HTTP Found**\nfound matching profile
    deactivate read_db
    match_link -> cache : **HTTP Update**\nhash(query) as **key**

end

match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
write_db -> read_db : **      Sync Data**
write_db -> broker :**Produces Event (Debezium Connector)**\nmarketing DB topic
broker -> data_lake :**Consumes Event**\nmarketing DB topic

@enduml

@startuml



skinparam style strictuml

scale max 2048 width

skinparam BoxPadding 20
skinparam ParticipantPadding 30

skinparam actor {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam object {
  BorderColor Black
  BackgroundColor<<External>> LightGrey
  BackgroundColor White

  BackgroundColor<<Abstract>> LightBlue
  BackgroundColor<<Enum>> LightRed
}

skinparam folder {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam interface {
  BackgroundColor<<Ingore>> White
  BorderColor<<Ignore>> White
  FontColor<<Ignore>> White
  StereotypeFontColor<<Ignore>> White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam ArrowColor<<Ignore>> White

skinparam ArrowColor Black
skinparam BackgroundColor White
skinparam CloudBackgroundColor white
skinparam DatabaseBackgroundColor White
skinparam NodeBackgroundColor white

skinparam class {
  BackgroundColor LightGrey
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam Object {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<OtherDomain>> LightGrey
}

skinparam note {
  BackgroundColor #FFEFD7
  BorderColor Black
}

skinparam boundary {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam participant {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam card {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam queue {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam state {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam storage {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam collections {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam entity {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam SequenceBoxBorderColor Black

skinparam EntityBackgroundColor White
skinparam EntityBorderColor Black

skinparam activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  DiamondBackgroundColor white
  DiamondBorderColor black
  EndColor black
  StartColor black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam sequence {
    MessageAlignment left

    LifeLineBorderColor Black
    LifeLineBackgroundColor White
}

skinparam usecase {
	BackgroundColor White
	BorderColor Black

	BackgroundColor<< Main >> YellowGreen
	BorderColor<< Main >> YellowGreen

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam interface {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam component {
  BackgroundColor White
  BorderColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  FontColor<<App>> $App
  FontColor<<Park>> $Park
  FontColor<<UPR>> $UPR
  FontColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam rectangle {
  BackgroundColor White
	roundCorner 25
}


header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "In-Memory Cache" #LemonChiffon
    participant "DB Cache" as cache <<Redis>>
end box

box "Debezium\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "Processors/Workers" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> read_db : **      Sync Data**
write_db -> broker : **Produces Event (Debezium Connector)**\nguests DB topic
broker -> data_lake :**Consumes Event**\nguests DB topic
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests

group **Find Matching Profiles** [Found in Cache]
    match_link -> cache :**HTTP Get**\nhash(query) as **key**
    activate cache
    cache - -> match_link :**HTTP Response**\nsuccess
    deactivate cache
    else Not Found in Cache
    match_link -> read_db :**HTTP Find**\nfind matching profile
    activate read_db
    read_db - -> match_link : **HTTP Found**\nfound matching profile
    deactivate read_db
    match_link -> cache : **HTTP Update**\nhash(query) as **key**

end

match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
write_db -> read_db : **      Sync Data**
write_db -> broker :**Produces Event (Debezium Connector)**\nmarketing DB topic
broker -> data_lake :**Consumes Event**\nmarketing DB topic

@enduml

PlantUML version 1.2022.7(Mon Aug 22 13:01:30 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>