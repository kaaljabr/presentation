<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="766.2px" preserveAspectRatio="none" style="width:829px;height:766px;background:#FFFFFF;" version="1.1" viewBox="0 0 829 766" width="829.2px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="15.893" id="_title" style="stroke:none;stroke-width:0.6;" width="129" x="347.7" y="13.6664"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacing" textLength="123" x="350.7" y="24.7875">Match &amp; Link execution flow</text><rect fill="#FFE4C4" height="725.1023" style="stroke:#000000;stroke-width:0.3;" width="93" x="63" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="55.2" x="81.9" y="41.3004">Microservices</text><rect fill="#FFC0CB" height="725.1023" style="stroke:#000000;stroke-width:0.3;" width="84.6" x="181.2" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="54" x="196.5" y="41.3004">Kafka Cluster</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="43.2" x="198.9" y="50.4867">ZooKeeper</text><rect fill="#90EE90" height="725.1023" style="stroke:#000000;stroke-width:0.3;" width="169.2" x="291" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="355.8" y="41.3004">NoSQL DB</text><rect fill="#ADD8E6" height="725.1023" style="stroke:#000000;stroke-width:0.3;" width="101.4" x="485.4" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="43.2" x="514.5" y="41.3004">Processors</text><rect fill="#E6E6FA" height="725.1023" style="stroke:#000000;stroke-width:0.3;" width="86.4" x="612" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="638.4" y="41.3004">External</text><rect fill="#D3D3D3" height="725.1023" style="stroke:#000000;stroke-width:0.3;" width="88.8" x="723.6" y="33.7594"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="40.2" x="747.9" y="41.3004">Data Lake</text><rect fill="#FFFFFF" height="107.0906" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="111.2906"/><rect fill="#FFFFFF" height="124.677" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="343.0582"/><rect fill="#FFFFFF" height="124.677" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="573.4395"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="330" y="164.8359"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="330" y="396.6035"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="330" y="626.9848"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="415.2" y="494.5078"/><rect fill="#FFFFFF" height="435.3762" style="stroke:#000000;stroke-width:0.6;" width="6" x="533.1" y="262.7402"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="652.2" y="289.5129"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="10.8" x2="10.8" y1="83.318" y2="762.4617"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="109.2" x2="109.2" y1="83.318" y2="762.4617"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="223.2" x2="223.2" y1="83.318" y2="762.4617"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="333" x2="333" y1="83.318" y2="762.4617"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="418.2" x2="418.2" y1="83.318" y2="762.4617"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="535.8" x2="535.8" y1="83.318" y2="762.4617"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="655.2" x2="655.2" y1="83.318" y2="762.4617"/><line style="stroke:#000000;stroke-width:0.3;stroke-dasharray:5.0,5.0;" x1="768" x2="768" y1="83.318" y2="762.4617"/><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="8.4" x="5.1" y="81.5461">UI</text><ellipse cx="11.1" cy="42.525" fill="#FFFFFF" rx="4.8" ry="4.8" style="stroke:#000000;stroke-width:0.3;"/><path d="M11.1,47.325 L11.1,63.525 M3.3,52.125 L18.9,52.125 M11.1,63.525 L3.3,72.525 M11.1,63.525 L18.9,72.525 " fill="none" style="stroke:#000000;stroke-width:0.3;"/><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="52.2" x="83.4" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="90.9" y="66.8531">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="43.8" x="87.6" y="76.7461">ms-guests</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.8" x="201.6" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="35.4" x="205.8" y="66.8531">«Broker»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="22.8" x="212.1" y="76.7461">Kafka</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.2" x="311.4" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="34.8" x="315.6" y="66.8531">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="34.2" x="315.9" y="76.7461">Write DB</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="43.2" x="396.6" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="34.8" x="400.8" y="66.8531">«Couch»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="33.6" x="401.4" y="76.7461">Read DB</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="60.6" x="505.8" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="48.6" x="511.8" y="66.8531">«Processor»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="52.2" x="510" y="76.7461">Match &amp; Link</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="45.6" x="632.4" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="37.2" x="636.6" y="66.8531">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="36.6" x="636.9" y="76.7461">Experian</text><rect fill="#FFFFFF" height="28.1859" rx="1.5" ry="1.5" style="stroke:#000000;stroke-width:0.3;" width="48" x="744" y="54.532"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-style="italic" lengthAdjust="spacing" textLength="27" x="754.5" y="66.8531">«Lake»</text><text fill="#000000" font-family="sans-serif" font-size="8.4" lengthAdjust="spacing" textLength="39.6" x="748.2" y="76.7461">Data Lake</text><rect fill="#FFFFFF" height="107.0906" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="111.2906"/><rect fill="#FFFFFF" height="124.677" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="343.0582"/><rect fill="#FFFFFF" height="124.677" style="stroke:#000000;stroke-width:0.6;" width="6" x="106.5" y="573.4395"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="330" y="164.8359"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="330" y="396.6035"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="330" y="626.9848"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="415.2" y="494.5078"/><rect fill="#FFFFFF" height="435.3762" style="stroke:#000000;stroke-width:0.6;" width="6" x="533.1" y="262.7402"/><rect fill="#FFFFFF" height="26.7727" style="stroke:#000000;stroke-width:0.6;" width="6" x="652.2" y="289.5129"/><polygon fill="#000000" points="99.3,108.8906,105.3,111.2906,99.3,113.6906" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="11.1" x2="102.9" y1="111.2906" y2="111.2906"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="84" x="15.3" y="99.259">HTTP Create/Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="59.4" x="15.3" y="108.4453">Profile/Account</text><polygon fill="#000000" points="216.3,135.6633,222.3,138.0633,216.3,140.4633" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="219.9" y1="138.0633" y2="138.0633"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="62.4" x="116.7" y="126.0316">Produces Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="42.6" x="116.7" y="135.218">guest topic</text><polygon fill="#000000" points="322.8,162.4359,328.8,164.8359,322.8,167.2359" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="326.4" y1="164.8359" y2="164.8359"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="42.6" x="116.7" y="152.8043">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="116.7" y="161.9906">guest profile</text><polygon fill="#000000" points="119.1,189.2086,113.1,191.6086,119.1,194.0086" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="115.5" x2="332.4" y1="191.6086" y2="191.6086"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="122.7" y="179.577">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="122.7" y="188.7633">success</text><polygon fill="#000000" points="17.7,215.9813,11.7,218.3813,17.7,220.7813" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="14.1" x2="108.9" y1="218.3813" y2="218.3813"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="21.3" y="206.3496">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="21.3" y="215.5359">success</text><polygon fill="#000000" points="411,233.5676,417,235.9676,411,238.3676" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="333" x2="414.6" y1="235.9676" y2="235.9676"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="351.6" y="233.1223">Sync Data</text><polygon fill="#000000" points="525.9,260.3402,531.9,262.7402,525.9,265.1402" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.5" x2="529.5" y1="262.7402" y2="262.7402"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="227.7" y="250.7086">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="42.6" x="227.7" y="259.8949">guest topic</text><polygon fill="#000000" points="645,287.1129,651,289.5129,645,291.9129" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="539.1" x2="648.6" y1="289.5129" y2="289.5129"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="72.6" x="543.3" y="277.4813">HTTP Standardize</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="61.2" x="543.3" y="286.6676">Primary Address</text><polygon fill="#000000" points="545.7,313.8855,539.7,316.2855,545.7,318.6855" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="542.1" x2="654.6" y1="316.2855" y2="316.2855"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="549.3" y="304.2539">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="549.3" y="313.4402">STD Address</text><polygon fill="#000000" points="119.1,340.6582,113.1,343.0582,119.1,345.4582" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="115.5" x2="532.5" y1="343.0582" y2="343.0582"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="122.7" y="331.0266">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="132.6" x="122.7" y="340.2129">Marketing profile with STD address</text><polygon fill="#000000" points="216.3,367.4309,222.3,369.8309,216.3,372.2309" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="219.9" y1="369.8309" y2="369.8309"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="62.4" x="116.7" y="357.7992">Produces Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="61.2" x="116.7" y="366.9855">Marketing Topic</text><polygon fill="#000000" points="322.8,394.2035,328.8,396.6035,322.8,399.0035" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="326.4" y1="396.6035" y2="396.6035"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="116.7" y="384.5719">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="37.8" x="116.7" y="393.7582">Marketing</text><polygon fill="#000000" points="119.1,420.9762,113.1,423.3762,119.1,425.7762" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="115.5" x2="332.4" y1="423.3762" y2="423.3762"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="122.7" y="411.3445">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="122.7" y="420.5309">success</text><polygon fill="#000000" points="411,438.5625,417,440.9625,411,443.3625" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="333" x2="414.6" y1="440.9625" y2="440.9625"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="351.6" y="438.1172">Sync Data</text><polygon fill="#000000" points="525.9,465.3352,531.9,467.7352,525.9,470.1352" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="109.5" x2="529.5" y1="467.7352" y2="467.7352"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="113.7" y="455.7035">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="113.7" y="464.8898">success</text><polygon fill="#000000" points="427.8,492.1078,421.8,494.5078,427.8,496.9078" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="424.2" x2="532.5" y1="494.5078" y2="494.5078"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="41.4" x="431.4" y="482.4762">HTTP Find</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="79.8" x="431.4" y="491.6625">find matching profile</text><polygon fill="#000000" points="525.9,518.8805,531.9,521.2805,525.9,523.6805" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="418.2" x2="529.5" y1="521.2805" y2="521.2805"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="49.2" x="422.4" y="509.2488">HTTP Found</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="87" x="422.4" y="518.4352">found matching profile</text><line style="stroke:#000000;stroke-width:0.6;" x1="539.1" x2="564.3" y1="538.8668" y2="538.8668"/><line style="stroke:#000000;stroke-width:0.6;" x1="564.3" x2="564.3" y1="538.8668" y2="546.6668"/><line style="stroke:#000000;stroke-width:0.6;" x1="539.7" x2="564.3" y1="546.6668" y2="546.6668"/><polygon fill="#000000" points="545.7,544.2668,539.7,546.6668,545.7,549.0668" style="stroke:#000000;stroke-width:0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="88.2" x="543.3" y="536.0215">Applies Matching Rules</text><polygon fill="#000000" points="119.1,571.0395,113.1,573.4395,119.1,575.8395" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="115.5" x2="532.5" y1="573.4395" y2="573.4395"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="53.4" x="122.7" y="561.4078">HTTP Update</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="45.6" x="122.7" y="570.5941">link profiles</text><polygon fill="#000000" points="216.3,597.8121,222.3,600.2121,216.3,602.6121" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="219.9" y1="600.2121" y2="600.2121"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="62.4" x="116.7" y="588.1805">Produces Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="36" x="116.7" y="597.3668">link topic</text><polygon fill="#000000" points="322.8,624.5848,328.8,626.9848,322.8,629.3848" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="112.5" x2="326.4" y1="626.9848" y2="626.9848"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="42.6" x="116.7" y="614.9531">HTTP Save</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="48" x="116.7" y="624.1395">guest profile</text><polygon fill="#000000" points="119.1,651.3574,113.1,653.7574,119.1,656.1574" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="115.5" x2="332.4" y1="653.7574" y2="653.7574"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="122.7" y="641.7258">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="122.7" y="650.9121">success</text><polygon fill="#000000" points="411,668.9438,417,671.3438,411,673.7438" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="333" x2="414.6" y1="671.3438" y2="671.3438"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="39.6" x="351.6" y="668.4984">Sync Data</text><polygon fill="#000000" points="528.9,695.7164,534.9,698.1164,528.9,700.5164" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;stroke-dasharray:2.0,2.0;" x1="109.5" x2="532.5" y1="698.1164" y2="698.1164"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="63" x="113.7" y="686.0848">HTTP Response</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="30" x="113.7" y="695.2711">success</text><polygon fill="#000000" points="760.8,722.4891,766.8,724.8891,760.8,727.2891" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.5" x2="764.4" y1="724.8891" y2="724.8891"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="227.7" y="712.8574">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="42.6" x="227.7" y="722.0437">guest topic</text><polygon fill="#000000" points="760.8,749.2617,766.8,751.6617,760.8,754.0617" style="stroke:#000000;stroke-width:0.6;"/><line style="stroke:#000000;stroke-width:0.6;" x1="223.5" x2="764.4" y1="751.6617" y2="751.6617"/><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="227.7" y="739.6301">Consumes Event</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacing" textLength="36" x="227.7" y="748.8164">link topic</text><rect fill="#FFFFFF" height="7.0664" id="_title" style="stroke:none;stroke-width:0.6;" width="37.8" x="786.6" y="3"/><text fill="#888888" font-family="sans-serif" font-size="6" lengthAdjust="spacing" textLength="37.8" x="786.6" y="8.8008">Match &amp; Link</text><!--MD5=[015e10de89c4dd79999c542ba58808a7]
@startuml
!include ../include.puml

header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "Kafka Cluster\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "Processors" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> broker : **Produces Event**\nguest topic
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> read_db : **      Sync Data**
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests -> broker : **Produces Event**\nMarketing Topic
ms_guests -> write_db :**HTTP Update**\nMarketing
activate write_db
write_db - -> ms_guests :**HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests
match_link -> read_db :**HTTP Find**\nfind matching profile
activate read_db
read_db - -> match_link : **HTTP Found**\nfound matching profile
deactivate read_db
match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> broker : **Produces Event**\nlink topic
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
broker -> data_lake :**Consumes Event**\nguest topic
broker -> data_lake :**Consumes Event**\nlink topic

@enduml

@startuml



skinparam style strictuml

scale max 2048 width

skinparam BoxPadding 20
skinparam ParticipantPadding 30

skinparam actor {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam object {
  BorderColor Black
  BackgroundColor<<External>> LightGrey
  BackgroundColor White

  BackgroundColor<<Abstract>> LightBlue
  BackgroundColor<<Enum>> LightRed
}

skinparam folder {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam interface {
  BackgroundColor<<Ingore>> White
  BorderColor<<Ignore>> White
  FontColor<<Ignore>> White
  StereotypeFontColor<<Ignore>> White

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam ArrowColor<<Ignore>> White

skinparam ArrowColor Black
skinparam BackgroundColor White
skinparam CloudBackgroundColor white
skinparam DatabaseBackgroundColor White
skinparam NodeBackgroundColor white

skinparam class {
  BackgroundColor LightGrey
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam Object {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<OtherDomain>> LightGrey
}

skinparam note {
  BackgroundColor #FFEFD7
  BorderColor Black
}

skinparam boundary {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam participant {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam card {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam queue {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam state {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam storage {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam collections {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam entity {
  BackgroundColor White
  BorderColor Black
  FontColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam SequenceBoxBorderColor Black

skinparam EntityBackgroundColor White
skinparam EntityBorderColor Black

skinparam activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  DiamondBackgroundColor white
  DiamondBorderColor black
  EndColor black
  StartColor black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam sequence {
    MessageAlignment left

    LifeLineBorderColor Black
    LifeLineBackgroundColor White
}

skinparam usecase {
	BackgroundColor White
	BorderColor Black

	BackgroundColor<< Main >> YellowGreen
	BorderColor<< Main >> YellowGreen

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam interface {
  BackgroundColor White
  BorderColor Black

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
}

skinparam component {
  BackgroundColor White
  BorderColor Black

  BorderColor<<App>> $App
  BorderColor<<Park>> $Park
  BorderColor<<UPR>> $UPR
  BorderColor<<Vendor>> $Vendor

  FontColor<<App>> $App
  FontColor<<Park>> $Park
  FontColor<<UPR>> $UPR
  FontColor<<Vendor>> $Vendor

  BackgroundColor<<Existing>> $Existing
  BackgroundColor<<Modify>> $Modify
  BackgroundColor<<New>> $New
  BackgroundColor<<Deprecated>> $Deprecated
  BackgroundColor<<Out of Scope>> $OutOfScope
}

skinparam rectangle {
  BackgroundColor White
	roundCorner 25
}


header Match & Link
title Match & Link execution flow

actor "UI" as ui

box "Microservices" #Bisque
    participant "ms-guests" as ms_guests <<Service>>
end box

box "Kafka Cluster\n ZooKeeper" #Pink
    participant "Kafka" as broker <<Broker>>
end box

box "NoSQL DB" #LightGreen
    participant "Write DB" as write_db <<Couch>>
    participant "Read DB" as read_db <<Couch>>
end box

box "Processors" #LightBlue
    participant "Match & Link" as match_link <<Processor>>
end box

box "External" #Lavender
    participant "Experian" as experian <<Service>>
end box

box "Data Lake" #LightGray
    participant "Data Lake" as data_lake <<Lake>>
end box

ui -> ms_guests : **HTTP Create/Update**\nProfile/Account
activate ms_guests
ms_guests -> broker : **Produces Event**\nguest topic
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
ms_guests - -> ui : **HTTP Response**\nsuccess
deactivate ms_guests
write_db -> read_db : **      Sync Data**
broker -> match_link :**Consumes Event**\nguest topic
activate match_link
match_link -> experian :**HTTP Standardize**\nPrimary Address
activate experian
experian - -> match_link :**HTTP Response**\nSTD Address
deactivate experian
match_link -> ms_guests :**HTTP Update**\nMarketing profile with STD address
activate ms_guests
ms_guests -> broker : **Produces Event**\nMarketing Topic
ms_guests -> write_db :**HTTP Update**\nMarketing
activate write_db
write_db - -> ms_guests :**HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> match_link :**HTTP Response**\nsuccess
deactivate ms_guests
match_link -> read_db :**HTTP Find**\nfind matching profile
activate read_db
read_db - -> match_link : **HTTP Found**\nfound matching profile
deactivate read_db
match_link -> match_link : Applies Matching Rules
match_link -> ms_guests : **HTTP Update**\nlink profiles
activate ms_guests
ms_guests -> broker : **Produces Event**\nlink topic
ms_guests -> write_db : **HTTP Save**\nguest profile
activate write_db
write_db - -> ms_guests : **HTTP Response**\nsuccess
deactivate write_db
write_db -> read_db : **      Sync Data**
ms_guests - -> match_link : **HTTP Response**\nsuccess
deactivate ms_guests
deactivate match_link
broker -> data_lake :**Consumes Event**\nguest topic
broker -> data_lake :**Consumes Event**\nlink topic

@enduml

PlantUML version 1.2022.7(Mon Aug 22 13:01:30 EDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>